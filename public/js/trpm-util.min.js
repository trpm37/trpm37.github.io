"use strict";(function(t){let e={data:{public_path:"https://resourceqiniu.wasee.com/public",userAgent:t.navigator.userAgent,base64_prefix:"data:image/png;base64,",font:1,css:1},async init(t){var e=this;if(document.currentScript&&document.currentScript.src){let t=document.currentScript.src;e.data.public_path=t.split("/js/")[0],e.data.css=null!=e.url_getParams("css",t)?e.url_getParams("css",t):1,e.data.font=null!=e.url_getParams("font",t)?e.url_getParams("font",t):1}return t&&Object.assign(e.data,t),await e.import_file().catch(function(t){console.log(t)}),1},async import_file(t){var e=this;let r=0;if(1==e.data.font){let t=await e.loadCss({id:"trpm-icon-css",url:`${e.data.public_path}/font/iconfont.css?ver=${(new Date).getTime()}`});t&&r++}if(1==e.data.css){let t=await e.loadCss({id:"trpm-util-css",url:`${e.data.public_path}/css/trpm-util.min.css?ver=${(new Date).getTime()}`});t&&r++}return r},loadStyle:function(t){let{id:e=null,css:r}=t,n=document.createElement("style");n.type="text/css",n.id=e,n.innerText=r,document.body.appendChild(n)},async loadCss(t){function e(){return new Promise(function(t,e){if(o=document.createElement("link"),o.id=n,o.type=r.type,o.rel=r.rel,o.href=a,s)s.before(o);else{var i=document.getElementsByTagName("head")[0];i.appendChild(o)}t(1)})}var r=Object.assign({type:"text/css",rel:"stylesheet",callback:function(){}},t);let[n,a,i,o]=[r.id,r.url,null!=r.target_id?r.target_id:"",null],s=i&&$("#"+i).length>0?s=$("#"+i):null;return n?0==$("#"+n).length&&await e().catch(function(t){}):await e().catch(function(t){}),1},async loadScript(e){function r(){f=document.createElement("script"),null!=s&&f.setAttribute("id",s),null!=o.type&&f.setAttribute("type",o.type),null!=o.defer&&f.setAttribute("defer",o.defer),null!=o.async&&f.setAttribute("async",o.async),f.setAttribute("src",c),p?p.before(f):document.head.appendChild(f)}function n(t){let e=t&&t.node?t.node:f,r=new Promise(function(t,r){try{e.readyState?e.onreadystatechange=function(){e.readyState&&"loaded"!=e.readyState&&"complete"!=e.readyState||(e.onreadystatechange=null,t({u:"IE",status:1,info:"加载完成",url:c}))}:e.onload=function(){t({u:"非IE",status:1,info:"加载完成",url:c})}}catch(t){r({status:0,info:t,url:c})}});return r}function a(e){let r=new Promise(function(r,n){try{function a(){t[u]?(clearTimeout(h),h=null,r(e)):h=setTimeout(function(){a()},50)}a()}catch(t){n({status:0,info:t,url:c})}});return r}async function i(){s?0==$("#"+s).length?(r(),d=await n().catch(function(t){d={status:0,info:"加载失败",url:c}}),u&&(d=await a(d).catch(function(t){d={status:0,info:"加载失败",url:c}}))):(d={status:1,info:"已存在",url:c},u&&(d=await a(d).catch(function(t){d={status:0,info:"加载失败",url:c}}))):(r(),d=await n().catch(function(t){d={status:0,info:"加载失败",url:c}}),u&&(d=await a(d).catch(function(t){d={status:0,info:"加载失败",url:c}})))}let o=Object.assign({type:"text/javascript"},e),[s,c,u,l,f,h]=[o.id,o.url,null!=o.val?o.val:"",null!=o.target_id?o.target_id:"",null,null],p=l&&$("#"+l).length>0?p=$("#"+l):null;p&&await n({node:p.get(0)}).catch(function(t){console.log(t)});let d=null;return await i(),d},ajax:function(t){let e=this,r=Object.assign({isPromise:!1,type:"POST",async:!0,url:"",params:{},callBack:function(t){}},t),n={type:r.type,async:r.async,url:r.url,data:r.params,success:function(t){if(r&&r.callBack&&e.is_function(r.callBack)){let e=null==t.status?{status:1,data:t}:t;r.callBack({params:r.params,data:e})}},error:function(t,n,a){r&&r.callBack&&e.is_function(r.callBack)&&r.callBack({rs:t,sta:n,err:a})}};if(r.dataType&&(n.dataType=r.dataType),r.contentType&&(n.contentType=r.contentType),r.isPromise)return new Promise(function(t,e){n.success=function(e){let n=null==e.status?{status:1,data:e}:e;t({params:r.params,data:n})},n.error=function(t,r,n){e(t,r,n)},$.ajax(n)});$.ajax(n)},device:function(){var e={browser:null,mobile:!1,android:!1,ios:!1,iosVer:"",apple:!1,weixin:!1,Opera:!1,IE:!1,Firefox:!1,Chrome:!1,Safari:!1,Edge:!1},r=navigator.userAgent;r.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)&&(e.mobile=!0),r.indexOf("Android")>0&&(e.android=!0);const n=r.toLowerCase().match(/cpu iphone os (.*?) like mac os/);return n&&(e.ios=!0,e.iosVer=parseInt(n[1].replace(/_/g,"."))),(r.indexOf("iPhone")>0||r.indexOf("iPad")>0||r.indexOf("iPod")>0)&&(e.apple=!0),"micromessenger"==r.toLowerCase().match(/MicroMessenger/i)&&(e.weixin=!0),r.indexOf("Firefox")>-1&&(e.Firefox=!0,e.browser="Firefox"),r.indexOf("Chrome")>-1&&r.indexOf("Safari")>-1&&(e.Chrome=!0,e.browser="Chrome"),r.indexOf("Safari")>-1&&-1===r.indexOf("Chrome")&&(e.Safari=!0,e.browser="Safari"),r.indexOf("Opera")>-1&&(e.Opera=!0,e.browser="Opera"),(r.indexOf("MSIE")>-1||"ActiveXObject"in t)&&(e.IE=!0,e.browser="IE"),r.indexOf("Edg")>-1&&(e.Edge=!0,e.browser="Edge"),e},event_ready:function(e){null==e&&(e=document);var r=t.onload;"function"!=typeof t.onload?t.onload=e:t.onload=function(){r(),e()}},event_add:function(t,e,r,n){t.addEventListener?t.addEventListener(e,r,n):t.attachEvent?t.attachEvent("on"+e,function(){r.call(t)}):t["on"+e]=r},event_remove:function(t,e,r,n){t.removeEventListener?t.removeEventListener(e,r,n):t.datachEvent?t.detachEvent("on"+e,r):t["on"+e]=null},event_stop:function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},event_prevent:function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},event_target:function(t){return t.target||t.srcElement},event_get:function(e){if(e=e||t.event,!e)for(var r=event_get.caller;r&&(e=r.arguments[0],!e||Event!==e.constructor);)r=r.caller;return e},cookie_set:function(t,e,r){var n="";if(r){var a=new Date;a.setTime(a.getTime()+864e5*r),n="expires="+a.toUTCString()}document.cookie=t+"="+escape(e)+";"+n},cookie_get:function(t){for(var e=document.cookie.split("; "),r=0,n=e.length;r<n;r++){var a=e[r].split("=");if(a[0]===t)return unescape(a[1])}return null},cookie_remove:function(t){this.cookie_set(t,"",-1)},storage_uzStorage:function(){var e=t.localStorage,r=/android/gi.test(t.navigator.appVersion);return r&&(e=os.localStorage()),e},storage_set:function(t,e){var r=e,n=this.storage_uzStorage();"object"==typeof r&&(r=JSON.stringify(r),r="obj-"+r),n&&n.setItem(t,r)},storage_get:function(t){var e=this.storage_uzStorage();if(e){var r=e.getItem(t);if(!r)return;return 0===r.indexOf("obj-")?JSON.parse(r.slice(4)):r}},storage_remove:function(t){var e=this.storage_uzStorage();e&&t&&e.removeItem(t)},storage_clear:function(){var t=this.storage_uzStorage();t&&t.clear()},is_string:function(t){return"string"==typeof t},is_array:function(t){return Array.isArray?Array.isArray(t):t instanceof Array},is_object:function(t){return"[object Object]"===Object.prototype.toString.call(t)},is_function:function(t){return"function"==typeof t},is_empty:function(t){return null==t||(this.is_string(t)||this.is_array(t)?0===t.length:this.is_object(t)?"{}"===JSON.stringify(t):0===t.toString().length)},is_equal:function(t,e,r,n){let a=this,i=!0;if(a.is_array(t)&&a.is_array(e)||a.is_object(t)&&a.is_object(e)){if(a.is_array(t)){if(t.length!==e.length)return i=!1,!1;n&&(t.sort(),e.sort())}else if(a.len(t)!==a.len(e))return i=!1,!1;return a.obj_forEach(t,function(t,i){return a.is_equal(i,e[t],r,n)}),i}return r&&(t=String.prototype.toLowerCase.call(t.toString()),e=String.prototype.toLowerCase.call(e.toString())),t!==e&&(i=!1),i},str_trim:function(t){return t.replace(/(^\s*)|(\s*$)/g,"")},str_trimAll:function(t){return t.replace(/\s*/g,"")},str_br:function(t,e){let r=/(<br\/>|<br>|<BR>|<BR\/>|&lt;br\/&gt;|&lt;br&gt;|&lt;BR&gt;|&lt;BR\/&gt;)/g;return null==e&&(e="\n"),t.replace(r,e)},str_format:function(t,e){let[r,n]=[t,e];for(let t=0;t<n.length;t++){var a=new RegExp("\\{"+(t-1)+"\\}","gm");r=r.replace(a,n[t])}return r},str_format2:function(t,e){let[r,n]=[t,e];for(let t in n){let[e,i]=["",""];for(var a in n[t])e=a,i=n[t][a];e=e.replace("[","\\[").replace("]","\\]").replace("(","\\(").replace(")","\\)");let o=new RegExp(e,"g");r=r.replace(o,i)}return r},str_startWith:function(t,e,r){if(null==t)return!1;var n=t.substring(0,e.length)+"";return r&&(n=n.toLowerCase(),e=(e+"").toLowerCase()),n===e},str_endWith:function(t,e,r){if(null==t)return!1;var n=t.substring(t.length-e.length,t.length)+"";return r&&(n=n.toLowerCase(),e=(e+"").toLowerCase()),n===e},str_firstLowerCase:function(t){return this.is_empty(t)?"":t.replace(/^\S/,function(t){return t.toLowerCase()})},str_firstUpperCase:function(t){return this.is_empty(t)?"":t.replace(/^\S/,function(t){return t.toUpperCase()})},str_reverse:function(t){if(this.is_empty(t))return"";for(var e="",r=t.length-1;r>=0;r--)e+=t[r];return e},number_parseInt:function(t,e){var r=parseInt(t);return isNaN(r)||1/0===r?(e=e||0,e):r},number_parseFloat:function(t,e){var r=parseFloat(t);return isNaN(r)||1/0===r?(e=e||0,e):r},number_toFixed:function(t,e){return e=null!=e?e:2,t=this.number_parseFloat(t,0),0===t?0:Number(t.toFixed(e))},number_ceil:function(t,e){e=e||2;var r=Math.ceil(t*Math.pow(10,e))/Math.pow(10,e);return this.number_toFixed(r,e)},number_floor:function(t,e){e=e||2;var r=Math.floor(t*Math.pow(10,e))/Math.pow(10,e);return this.number_toFixed(r,e)},number_random:function(t,e){var r=0;return r=t+Math.random()*(e-t),Math.round(r)},number_add:function(t){for(var e=0,r=0,n=0,a=arguments.length;n<a;n++){arguments[n]=arguments[n].toString();try{e+=arguments[n].split(".")[1].length}catch(t){e+=0}}for(var i=0,o=arguments.length;i<o;i++)r=arguments[i]*Math.pow(10,e)+r;return r/=Math.pow(10,e),r},number_mul:function(t){for(var e=0,r=1,n=0,a=arguments.length;n<a;n++){arguments[n]=arguments[n].toString();try{e+=arguments[n].split(".")[1].length}catch(t){e+=0}r=arguments[n].replace(".","")*r}return r/=Math.pow(10,e),r},number_toCurrency:function(t,e){return t+="",e&&(t=this.number_toFixed(t,e)),-1===t.indexOf(".")&&(t+="."),t.replace(/(\d)(?=(\d{3})+\.)/g,function(t){return t+","}).replace(/\.$/,"")},array_indexOf:function(t,e){var r=-1;return this.is_object(e)?(this.obj_forEach(t,function(t,n){var a=!0;if(this.obj_forEach(e,function(t,e){if(n[t]){if(!this.is_equal(n[t],e))return a=!1,!1}else a=!1}),a)return r=t,!1}),r):this.is_array(e)?(this.obj_forEach(t,function(t,n){if(this.is_equal(n,e))return r=t,!1}),r):t.indexOf(e)},array_push:function(t,e){return this.is_empty(e)?t:(this.is_array(e)||(e=[e]),Array.prototype.push.apply(t,e))},array_sort:function(t,e,r){if(this.is_empty(t))return[];var n=t.concat([]);return r=r||"asc",n.sort(function(t,n){var a=t[e],i=n[e];return a>i?"asc"===r?1:-1:a<i?"asc"===r?-1:1:0}),n},array_unique:function(t,e,r){var n=[];return this.obj_forEach(t,function(t,a){if(e&&this.is_object(a)){this.is_array(e)||(e=[e]);var i={};this.obj_forEach(e,function(t,e){i[e]=a[e]}),-1===this.array_indexOf(n,i)&&n.push(a)}else r&&this.is_array(a)?-1===this.array_indexOf(n,a.sort())&&n.push(a):-1===this.array_indexOf(n,a)&&n.push(a)}),n},array_filter:function(t,e,r){if(this.is_empty(t)||this.is_empty(e))return[];var n=[],a=[];return this.obj_forEach(t,function(t,r){var i=!0;this.obj_forEach(e,function(t,e){var n=r[t];if(this.is_array(e)||(e=[e]),-1===e.indexOf(n))return i=!1,!1}),i?n.push(r):a.push(r)}),r?a:n},array_select:function(t,e){if(this.is_empty(t)||this.is_empty(e))return t;var r=[];return this.obj_forEach(t,function(t,n){if(this.is_array(e)){var a={};this.obj_forEach(e,function(t,e){a[e]=this.object_getValue(n,e)}),r.push(a)}else r.push(this.object_getValue(n,e))}),r},array_concat:function(t,e,r,n){if(this.is_empty(t))return e;if(this.is_empty(e))return t;var a=[];return a=t.concat(e),a=this.array_unique(a,r,n),a},array_group:function(t,e){if(this.is_empty(t)||this.is_empty(e))return null;var r=[];return this.obj_forEach(t,function(t,n){this.is_array(e)||(e=[e]);var a={};this.obj_forEach(e,function(t,e){a[e]=n[e]});var i=this.array_indexOf(r,a);-1===i?(a.group=[],a.group.push(n),r.push(a)):r[i].group.push(n)}),r},array_arraybufferToString:function(t){const e=new TextDecoder("utf-8"),r=new Uint8Array(t),n=e.decode(r);return n},array_remove:function(t,e){if(this.is_empty(t))return[];if(this.is_empty(e))for(var r=t.length;r--;){var n=t[r];null!=n&&""!==n||t.splice(r,1)}else this.is_array(e)||(e=[e]),this.obj_forEach(e,function(e,r){var n=this.array_indexOf(t,r);n>-1&&t.splice(n,1)})},array_clear:function(t){this.is_empty(t)||t.splice(0,t.length)},object_keys:function(t){return this.is_empty(t)?[]:Object.keys(t)},object_values:function(t){if(this.is_empty(t))return[];var e=[];try{e=Object.values(t)}catch(r){this.obj_forEach(t,function(t,r){e.push(r)})}return e},object_assign:function(e){if(this.is_object(e))try{Object.assign.apply(t,arguments)}catch(t){for(var r=1,n=arguments.length;r<n;r++){var a=arguments[r];this.is_object(a)&&this.obj_forEach(a,function(t,r){e[t]=r})}}},object_select:function(t,e){if(this.is_empty(t)||this.is_empty(e))return{};var r={};return this.is_array(e)||(e=[e]),this.obj_forEach(e,function(e,n){r[n]=t[n]}),r},object_rename:function(t,e,r,n){this.is_empty(t)||t[e]&&(t[r]=t[e],n||this.object_remove(t,e))},object_getValue:function(t,e,r){let n=this;var a=null;if(!t||n.is_empty(e))return a;var i=e.indexOf(".");return i>-1?(t=t[e.substring(0,i)],n.object_getValue(t,e.substring(i+1),r)):(n.obj_forEach(t,function(t,i){if(n.is_equal(t,e,r))return a=i,!1}),a)},object_setValue:function(t,e,r,n){let a=this;var i=!1;if(!t||a.is_empty(e))return i;var o=e.indexOf(".");return o>-1?(t=t[e.substring(0,o)],a.object_getValue(t,e.substring(o+1),r,n)):(a.obj_forEach(t,function(o,s){if(a.is_equal(o,e,n))return t[o]=r,i=!0,!1}),i)},object_serialize:function(t){var e,r,n,a,i,o,s="";for(e in t)if(r=t[e],r instanceof Array)for(var c=0;c<r.length;++c)i=r[c],n=e+"["+c+"]",o={},o[n]=i,s+=this.object_serialize(o)+"&";else if(r instanceof Object)for(a in r)i=r[a],n=e+"["+a+"]",o={},o[n]=i,s+=this.object_serialize(o)+"&";else null!=r&&(s+=encodeURIComponent(e)+"="+encodeURIComponent(r)+"&");return s=s.substring(0,s.length-1),s},object_remove:function(t,e){if(this.is_empty(t))return t;var r={},n=!0;return this.is_empty(e)?(this.obj_forEach(t,function(e,a){var i=null==a||""===a;try{i&&delete t[e]}catch(t){n=!1,i||(r[e]=a)}}),n?t:r):(this.is_array(e)||(e=[e]),this.obj_forEach(e,function(e,r){try{delete t[r]}catch(t){return n=!1,!1}}),n?t:(this.obj_forEach(t,function(t,n){-1===e.indexOf(t)&&(r[t]=n)}),r))},object_clear:function(t,e){return this.is_empty(t)?{}:(e?(this.is_array(e)||(e=[e]),this.obj_forEach(e,function(e,r){t[r]=""})):this.obj_forEach(t,function(e,r){t[e]=""}),t)},obj_forEach:function(e,r){let n=null;if(null!=e&&"function"==typeof r){var a;if(this.is_object(e)){for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&(a=r.apply(t,[i,e[i]]),!1===a)){n=e[i];break}}else for(var o=0,s=e.length;o<s;o++)if(a=r.apply(t,[o,e[o]]),!1===a){n=e[o];break}return n}},obj_copy:function(t,e){let r=this;var n;if(r.is_object(t))if(n={},r.is_empty(e))r.obj_forEach(t,function(t,e){(r.is_object(e)||r.is_array(e))&&(e=r.obj_copy(e)),n[t]=e});else{var a=e.indexOf(".");r.obj_forEach(t,function(t,i){a>-1?((r.is_object(i)||r.is_array(i))&&(i=t==e.substring(0,a)?r.obj_copy(i,e.substring(a+1)):r.obj_copy(i,e)),n[t]=i):r.is_equal(t,e)||((r.is_object(i)||r.is_array(i))&&(i=r.obj_copy(i,e)),n[t]=i)})}else{if(!r.is_array(t))return t;if(n=[],r.is_empty(e))r.obj_forEach(t,function(t,e){(r.is_object(e)||r.is_array(e))&&(e=r.obj_copy(e)),n.push(e)});else{a=e.indexOf(".");r.obj_forEach(t,function(t,i){a>-1?((r.is_object(i)||r.is_array(i))&&(i=r.obj_copy(i,e)),n.push(i)):r.is_equal(i,e)||((r.is_object(i)||r.is_array(i))&&(i=r.obj_copy(i,e)),n.push(i))})}}return n},obj_extend:function(t){let e=this;if(e.is_object(t)){for(var r=1,n=arguments.length;r<n;r++){var a=arguments[r];e.is_object(a)&&e.obj_forEach(a,function(r,n){(e.is_object(n)||e.is_array(n))&&(n=e.obj_copy(n)),t[r]=n})}return t}},json_toTreeData:function(t,e,r,n){var a,i=[],o={},s=(t||[]).length;for(a=0;a<s;a++)o[t[a][e]]=t[a];for(a=0;a<s;a++){var c=o[t[a][r]];c?(c[n]=c[n]||[],c[n].push(t[a])):i.push(t[a])}return i},data_formatSecond:function(t){const e=parseInt(t/3600),r=parseInt(t/60%60),n=Math.ceil(t%60);let a=e<10?"0"+e:e,i=r<10?"0"+r:r,o=n>59?59:n;return o=o<10?"0"+o:o,{hh:a,mm:i,ss:o}},date_format:function(t,e){function r(t){return(t<10?"0":"")+t}return t=t?new Date(t):new Date,e=e||"YYYY-MM-DD",e.replace(/YYYY|MM|DD|hh|mm|ss|WW/g,function(e){switch(e){case"YYYY":return r(t.getFullYear());case"MM":return r(t.getMonth()+1);case"DD":return r(t.getDate());case"mm":return r(t.getMinutes());case"hh":return r(t.getHours());case"ss":return r(t.getSeconds());case"WW":return["日","一","二","三","四","五","六"][t.getDay()]}})},date_otherMonth:function(t,e,r){t=isNaN(parseInt(t))?-1:parseInt(t),e=e?new Date(e):new Date;var n=e.getDate();e.setMonth(e.getMonth()+t);var a=e.getDate();return a<n&&e.setMonth(e.getMonth(),0),this.date_format(e,r)},date_startOfMonth:function(t,e,r){return t=isNaN(parseInt(t))?0:parseInt(t),e=e?new Date(e):new Date,e.setMonth(e.getMonth()+t,1),this.date_format(e,r)},date_endOfMonth:function(t,e,r){return t=isNaN(parseInt(t))?0:parseInt(t),e=e?new Date(e):new Date,e.setMonth(e.getMonth()+t+1,0),this.date_format(e,r)},date_startOfWeek:function(t,e,r){t=isNaN(parseInt(t))?0:parseInt(t),e=e?new Date(e):new Date;var n=e.getDay();return n=0===n?7:n,e.setDate(e.getDate()+7*t-(n-1)),this.date_format(e,r)},date_endOfWeek:function(t,e,r){t=isNaN(parseInt(t))?0:parseInt(t),e=e?new Date(e):new Date;var n=e.getDay();return n=0===n?7:n,e.setDate(e.getDate()+7*t-(n-1)+6),this.date_format(e,r)},date_otherDate:function(t,e,r){return t=isNaN(parseFloat(t))?-6:parseFloat(t),e=e?new Date(e):new Date,e.setTime(e.getTime()+864e5*t),this.date_format(e,r)},date_howManyDays:function(t,e){var r="",n=Date.parse(t),a=Date.parse(e),i=Math.abs(a-n);return r=Math.floor(i/864e5),r},date_howManyMonths:function(t,e){var r,n,a;return t=new Date(t),e=new Date(e),r=12*t.getFullYear()+t.getMonth()+1,n=12*e.getFullYear()+e.getMonth()+1,a=Math.abs(r-n),a},date_getDatesBetween:function(t,e,r){var n,a;r=r||"YYYY-MM-DD";var i=[];if(n=Date.parse(t)<Date.parse(e)?t:e,r.indexOf("DD")>-1){a=this.date_howManyDays(t,e);for(var o=0;o<=a;o++)i.push(this.date_otherDate(o,n,r))}else{a=this.date_howManyMonths(t,e);for(var s=0;s<=a;s++)i.push(this.date_otherMonth(s,n,r))}return i},url_getParams:function(e,r,n){let a="";if(a=r?r.split("?")[1]:t.location.search.substring(1)?t.location.search.substring(1):t.location.hash.split("?")[1],a){n&&1==n&&(a=decodeURIComponent(a));let t=JSON.parse('{"'+a.replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}');return e?t[e]:t}},url_do:function(e){var r=e.url?e.url:t.location.href,n=e.name,a=e.ty?e.ty:0,i={newUrl:r,url:r,params:{}};if(-1!=r.indexOf("?")){let t=r.split("?");i.url=t[0];let s=t[1].split("&");for(let t=0;t<s.length;t++){let e=s[t].split("=");i.params[e[0]]=e[1]}1==a?i.params[n]=e.val:2==a&&delete i.params[n];var o="";for(let t in i.params){let e=""==o?"?":"&";o+=e+t+"="+i.params[t]}i.newUrl=o?t[0]+o:i.newUrl}return i},url_jump:function(e,r){r&&(e=e+"?"+this.object_serialize(r)),t.location.href=e},url_jumpFromReferrer:function(e,r){r=r||t.location.href,t.location.href=e+"?"+encodeURIComponent("referrer="+r)},url_jumpToReferrer:function(){var e=decodeURIComponent(t.location.search),r=e.split("referrer=")[1];t.location.href=r},base64_encrypt:function(t){var e=CryptoJS.enc.Utf8.parse(t),r=CryptoJS.enc.Base64.stringify(e);return r},base64_decrypt:function(t){return CryptoJS.enc.Base64.parse(t).toString(CryptoJS.enc.Utf8)},validate_mobile:function(t){return/^1[34578][0-9]{9}$/.test(t)},validate_fixedPhone:function(t){return/^((0\d{2,3})-)(\d{7,8})(-(\d{3,}))?$/.test(t)},validate_phone:function(t){return this.validate_mobile(t)||this.validate_fixedPhone(t)},validate_email:function(t){return/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+((\.[a-zA-Z0-9_-]{2,3}){1,2})$/.test(t)},validate_IDcard:function(t){return/^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$|^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X)$/.test(t)},validate_url:function(t){return/^(https?|ftp):\/\/([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&%$-]+)*@)*((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])){3}|([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+\.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(\/($|[a-zA-Z0-9.,?'\\+&%$#=~_-]+))*$/.test(t)},validate_number:function(t){return/^(\+|-)?((0)|([1-9][0-9]*))$|^(\+|-)?((0)|([1-9][0-9]*)).[0-9]+$/.test(t)},validate_integer:function(t){return/^(\+|-)?[1-9][0-9]*$/.test(t)},validate_positiveInteger:function(t){return/^\+?[1-9][0-9]*$/.test(t)},validate_positive:function(t){return/^[1-9][0-9]*$|^((0)|([1-9][0-9]*)).[0-9]+$/.test(t)},validate_positiveToFixed:function(t,e){e=e||2;var r=new RegExp("^[1-9][0-9]*$|^((0)|([1-9][0-9]*)).[0-9]{"+e+"}$");return r.test(t)},len:function(t){if(null==t)return 0;if(this.is_string(t)||this.is_array(t))return t.length;if(this.is_object(t)){var e=0;return this.obj_forEach(t,function(t,r){e++}),e}},callCamera:function(){if(this.browser_isIOS())for(var e=t.document.querySelectorAll("input[capture=camera]"),r=0;r<e.length;r++)e[r].removeAttribute("capture")},color_rgbToHex(t){let e=t.color,r=/^(rgb|RGB)/;if(r.test(e)){for(var n="#",a=e.replace(/(?:\(|\)|rgb|RGB)*/g,"").split(","),i=0;i<a.length;i++){var o=Number(a[i]).toString(16);"0"===o&&(o+=o),n+=o}return n}return String(e)},color_rgbaToHex(t){let e=t.color,r=e.slice(5,e.length-1),n=r.split(","),a=100*Number(n[3].trim()),i="#",o=Number(n[0].trim()),s=Number(n[1].trim()),c=Number(n[2].trim());return i+=((1<<24)+(o<<16)+(s<<8)+c).toString(16).slice(1),{hex:i,opa:a}},color_hexToRgb(t){let e=t.color;e=e.toLowerCase();let r=t.num?t.num:0,n=/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/;if(n.test(e)){if(4===e.length){for(var a="#",i=1;i<4;i+=1)a+=e.slice(i,i+1).concat(e.slice(i,i+1));e=a}var o=[];for(i=1;i<7;i+=2)o.push(parseInt("0x"+e.slice(i,i+2)));let t="RGB("+o.join(",")+")";return r&&(t=o),t}return e},color_hexToRgba(t){let{color:e,opa:r}=t,n="rgba(";if(4===e.length){let t=[];for(let r=1;r<e.length;r++)t.push(parseInt("0x"+e[r]+e[r]));return t.forEach(function(t){n+=t+", "}),n+=r/100+")",n}{let t=[];for(let r=1;r<e.length;r+=2)t.push(parseInt("0x"+e.slice(r,r+2)));return t.forEach(function(t){n+=t+", "}),n+=r/100+")",n}},screen(){let e={orientation:0};return 180!==t.orientation&&0!==t.orientation||(e.orientation=0),90!==t.orientation&&-90!==t.orientation||(e.orientation=1),e},fullscreen:function(t){let e=this,r=t.isFullScreen?t.isFullScreen:0,n=$(t.dom).get(0);r?n.requestFullscreen?n.requestFullscreen():n.webkitRequestFullScreen?n.webkitRequestFullScreen():n.mozRequestFullScreen?n.mozRequestFullScreen():n.msRequestFullscreen&&n.msRequestFullscreen():document.exitFullscreen?document.exitFullscreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen(),t.callBack&&e.is_function(t.callBack)&&t.callBack({isFullScreen:r})},fullscreen_enabled:function(t){let e=document.fullscreenEnabled||document.mozFullScreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled||!1;return e},fullscreen_status:function(t){document.fullscreenElement||document.msFullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement;let e=document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen;return e},fullscreen_div:function(t){let e=document.fullscreenElement||document.msFullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||!1;return e},fullscreen_event:function(e){function r(){let t=document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen;e.callBack&&_this.is_function(e.callBack)&&e.callBack({isFullScreen:t})}["fullscreenchange","webkitfullscreenchange","mozfullscreenchange"].forEach(function(e,n){t.addEventListener(e,function(){r()})})},msg:function(t){let{box:e="body",fixed:r=1,type:n=0,txt:a="",icon:i="",bk:o="transparent",cls:s="",time:c=0,evt:u=1}=t,l="string"==typeof e?$(e):e,f=1==r?"fixed":"absolute",h=1==u?"auto":"none",p=$(".trpm-msg");p.remove();let d=`<div class="info">${a}</div>`;1==n&&(d=`<div class="load"><img class="icon" src="${i}"/></div>`),l.append(`<div class="trpm-msg ${s}" style="position:${f};pointer-events:${h};">\n                <div class="bk" style="background-color:${o};"></div>\n                <div class="m">${d}</div>\n            </div>`),p=$(".trpm-msg"),c>0&&setTimeout(function(){p.fadeOut(1e3,function(){p.remove()})},c)},close:function(t){let{ele:e,type:r=1}=t;e?$(e).remove():1==r&&$(".trpm-msg").remove()},tips:function(t){let{direction:e=1,space:r=6,txt:n="",tgt:a,arrow:i=1,id:o="",sty:s="fixed",callBack:c}=t,u=$("#"+o);0==u.length?$("body").append(`<div class="trpm-tips ${s}" id="${o}"><span class="arrow"></span><div class="m">${n}</div></div>`):u.addClass(s).find(".m").html(n),u=$("#"+o),1==i&&u.find(".arrow").css("opacity",1);let[l,f,h,p,d,_,m,g]=[u.outerWidth(!0),u.outerHeight(!0),$(a).outerWidth(),$(a).outerHeight(),$(a).offset().left,$(a).offset().top,0,0];1==e?(m=d+h/2-l/2,g=_-f-r,u.find(".arrow").attr("class","arrow")):2==e?(m=d+h+r,g=_+p/2-f/2,u.find(".arrow").attr("class","arrow arrowRg")):3==e?(m=d+h/2-l/2,g=_+p+r,u.find(".arrow").attr("class","arrow arrowBm")):4==e&&(m=d-l-r,g=_+p/2-f/2,u.find(".arrow").attr("class","arrow arrowLf")),u.css({left:m+"px",top:g+"px",opacity:1}),c&&"function"==typeof c&&c({id:o,lf:m,tp:g})}};t.trpm=e,trpm.init().then(function(t){}).catch(function(t){console.log(t)})})(window);